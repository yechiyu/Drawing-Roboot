<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="UTF-8">
    <title>Drawing Robot</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="../css/mobile.css">
    <link rel="stylesheet" href="../css/background.css">
    <script type="text/javascript" src="../js/jquery.min.js"></script>
    <script type="text/javascript" src="../js/imgDeal.js"></script>
    <script type="text/javascript" src="../js/router.js"></script>
    <script type="text/javascript" src="../js/jquery.webcam.js"></script>
    <script type="text/javascript" src="../js/jquery.webcam.min.js"></script>
</head>
<body>

<canvas>

</canvas>

<div id="container">
    <div id="interface" class="border">
        <div id="loading">
            <img id="preview" class="border"/>
        </div>

        <div id="controller" class="border">
            <p>
                <button onclick="openMedia()" class="cameraBt border">打开</button>
                <button onclick="closeMedia()" class="cameraBt border">关闭</button>
                <button onclick="drawMedia()" class="cameraBt border">截取</button>
            </p>

            <div id="directions" class="border">
                <div id="directions-circle" class="border">
                    <div class="directions-line border">
                        <img src="../img/up.svg" alt="" class="ctyDir">
                    </div>
                    <div class="directions-line1 border">
                        <img src="../img/left.svg" alt="" class="ctyDir">
                        <img src="../img/stop.svg" id="stop" alt="" class="ctyDir">
                        <img src="../img/play.svg" id="play" alt="" class="ctyDir" style="display: none">
                        <img src="../img/right.svg" alt="" class="ctyDir">
                    </div>
                    <div class="directions-line border">
                        <img src="../img/down.svg" alt="" class="ctyDir">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="menubar" class="border">
        <div id="menubar-draw" class="desktop-icon-set border" data-send="../page/draw.html">
            <div id="menubar-draw-icon" class="border">
                <img src="../img/draw.svg" class="imgStyl" alt="">
            </div>
            <div id="menubar-draw-text" class="border">draw</div>
        </div>
        <div id="menubar-camera" class="desktop-icon-set border" data-send="../page/cameras.html">
            <div id="menubar-camera-icon" class="border">
                <img src="../img/camrera.svg" class="imgStyl" alt="">
            </div>
            <div id="menubar-camera-text" class="border">camera</div>
        </div>
        <div id="menubar-profile" class="desktop-icon-set border" data-send="../page/profile.html">
            <div id="menubar-profile-icon" class="border">
                <img src="../img/profile.svg" class="imgStyl" alt="">
            </div>
            <div id="menubar-profile-text" class="border">profile</div>
        </div>
    </div>

    <form action="photoRec.php" id="drawF">
        <div id="sidebar" class="border">
            <div id="sidebar-value" style="display: none">input value</div>
            <input type="hidden" class="border" style="display: none" name="MAX_FILE_SIZE" value="10485760">
            <div id="sidebar-inImg">
                <input type="file" id="loadImg-button-left" class="in border buttonSty1" name="photo" onchange="imgPreview(this)" required="required" />
            </div>
            <div id="sidebar-exit">exit</div>
        </div>

        <div id="sideValue" class="border">
            <div id="sideValueLa" class="border">
                <div id="sideValueLa-text" class="border">LA</div>
                <div id="sideValueLa-value" class="border">
                    <input type="number" id="sideValueLaV" name="sideValueLaV" required="required">
                </div>
            </div>
            <div id="sideValueLb" class="border">
                <div id="sideValueLb-text" class="border">LB</div>
                <div id="sideValueLb-value" class="border">
                    <input type="number" id="sideValueLbV" name="sideValueLbV" required="required">
                </div>
            </div>
            <div id="sideValueBut" class="border">
                <div id="sideValueBut-cancel">
                    <input type="button" value="cancel" id="cancelBt">
                </div>
                <div id="sideValueBut-draw">
                    <input type="submit" value="draw">
                </div>
            </div>
        </div>
    </form>
</div>

<script src="../js/script.js"></script>

</body>

<script>

    $("#preview").click(function(){
        $("#sidebar").css("bottom","10%");

    });

    $("#sidebar-exit").click(function(){
        $("#sidebar").css("bottom","-150px");

    });

    $("#sidebar-value").click(function(){
        $("#sideValue").css("bottom","45%");

    });

    $("#stop").click(function(){
        $("#stop").hide();
        $("#play").show()
    });

    $("#play").click(function(){
        $("#play").hide();
        $("#stop").show()
    });

    function imgPreview(fileDom){
        if (window.FileReader) {
            var reader = new FileReader();
        } else {
            alert("Your device does not support the image preview function, if you need this function, please upgrade your device！");
        }

        //get file
        var file = fileDom.files[0];
        var imageType = /^image\//;
        if (!imageType.test(file.type)) {
            alert("chose file！");
            return;
        }
        reader.onload = function(e) {
            var img = document.getElementById("preview");
            img.src = e.target.result;
        };
        reader.readAsDataURL(file);
        $("#sideValue").css("bottom","45%");
        $("#sidebar-value").show();
    }

</script>
</html>